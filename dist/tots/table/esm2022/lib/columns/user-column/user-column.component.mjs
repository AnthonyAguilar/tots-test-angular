import { Component } from '@angular/core';
import { TotsTableHelper } from '../../helpers/tots-table-helper';
import { TotsBaseColumnComponent } from '../tots-base-column.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/icon";
export class UserColumnComponent extends TotsBaseColumnComponent {
    getFirstname() {
        if (this.column.extra?.field_firstname_key) {
            return TotsTableHelper.getItemValueByKey(this.item, this.column.extra.field_firstname_key);
        }
        return '';
    }
    getLastname() {
        if (this.column.extra?.field_lastname_key) {
            return TotsTableHelper.getItemValueByKey(this.item, this.column.extra.field_lastname_key);
        }
        return '';
    }
    getFullname() {
        return this.getFirstname() + ' ' + this.getLastname();
    }
    getPhoto() {
        if (this.column.extra?.field_photo_key) {
            return TotsTableHelper.getItemValueByKey(this.item, this.column.extra.field_photo_key);
        }
        return '';
    }
    getSubtitle() {
        if (this.column.extra?.field_subtitle_key) {
            return TotsTableHelper.getItemValueByKey(this.item, this.column.extra.field_subtitle_key);
        }
        return '';
    }
    isOnline() {
        if (this.column.extra?.field_online_key) {
            return TotsTableHelper.getItemValueByKey(this.item, this.column.extra.field_online_key);
        }
        return false;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.11", ngImport: i0, type: UserColumnComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.11", type: UserColumnComponent, selector: "tots-user-column", usesInheritance: true, ngImport: i0, template: "<div class=\"user-avatar-component\">\r\n    <div class=\"avatar\" *ngIf=\"getPhoto() != ''\">\r\n        <img mat-card-avatar [src]=\"getPhoto()\" alt=\"{{ getFullname() }}\" class=\"cover-image\" onerror=\"this.src='/assets/img/user-avatar-empty.svg';\">\r\n    </div>\r\n    <div class=\"texts\">\r\n        <div class=\"user\"> {{ getFullname() }} </div>\r\n        <div class=\"body-2\" *ngIf=\"getSubtitle() != ''\"> {{ getSubtitle() }} </div>\r\n    </div>\r\n    <div class=\"check\" *ngIf=\"column.extra?.field_is_online && isOnline()\"><mat-icon>check</mat-icon></div>\r\n</div>", styles: [".user-avatar-component{display:flex;align-items:center;position:relative}.user-avatar-component .avatar{width:40px;min-width:40px;height:40px;min-height:40px;border-radius:40px;overflow:hidden;margin-right:16px}.user-avatar-component .avatar img{width:40px;min-width:40px;height:40px;min-height:40px}.user-avatar-component .texts .user{font-size:1.1em}.user-avatar-component .texts .body-2{color:#636363;font-size:.9em}.user-avatar-component .check{position:absolute;border:2px solid white;border-radius:200px;top:0;left:0;color:#24b524;background-color:#d7ffa3;width:1em;height:1em;display:flex;align-items:center;justify-content:center}.user-avatar-component .check mat-icon{line-height:1em;font-size:1em;width:1em;height:1em}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.11", ngImport: i0, type: UserColumnComponent, decorators: [{
            type: Component,
            args: [{ selector: 'tots-user-column', template: "<div class=\"user-avatar-component\">\r\n    <div class=\"avatar\" *ngIf=\"getPhoto() != ''\">\r\n        <img mat-card-avatar [src]=\"getPhoto()\" alt=\"{{ getFullname() }}\" class=\"cover-image\" onerror=\"this.src='/assets/img/user-avatar-empty.svg';\">\r\n    </div>\r\n    <div class=\"texts\">\r\n        <div class=\"user\"> {{ getFullname() }} </div>\r\n        <div class=\"body-2\" *ngIf=\"getSubtitle() != ''\"> {{ getSubtitle() }} </div>\r\n    </div>\r\n    <div class=\"check\" *ngIf=\"column.extra?.field_is_online && isOnline()\"><mat-icon>check</mat-icon></div>\r\n</div>", styles: [".user-avatar-component{display:flex;align-items:center;position:relative}.user-avatar-component .avatar{width:40px;min-width:40px;height:40px;min-height:40px;border-radius:40px;overflow:hidden;margin-right:16px}.user-avatar-component .avatar img{width:40px;min-width:40px;height:40px;min-height:40px}.user-avatar-component .texts .user{font-size:1.1em}.user-avatar-component .texts .body-2{color:#636363;font-size:.9em}.user-avatar-component .check{position:absolute;border:2px solid white;border-radius:200px;top:0;left:0;color:#24b524;background-color:#d7ffa3;width:1em;height:1em;display:flex;align-items:center;justify-content:center}.user-avatar-component .check mat-icon{line-height:1em;font-size:1em;width:1em;height:1em}\n"] }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1jb2x1bW4uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdG90cy90YWJsZS9zcmMvbGliL2NvbHVtbnMvdXNlci1jb2x1bW4vdXNlci1jb2x1bW4uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdG90cy90YWJsZS9zcmMvbGliL2NvbHVtbnMvdXNlci1jb2x1bW4vdXNlci1jb2x1bW4uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDbEUsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sK0JBQStCLENBQUM7Ozs7QUFPeEUsTUFBTSxPQUFPLG1CQUFvQixTQUFRLHVCQUF1QjtJQUU5RCxZQUFZO1FBQ1YsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxtQkFBbUIsRUFBQztZQUN4QyxPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7U0FDNUY7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxrQkFBa0IsRUFBQztZQUN2QyxPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7U0FDM0Y7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxXQUFXO1FBQ1QsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN4RCxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsZUFBZSxFQUFDO1lBQ3BDLE9BQU8sZUFBZSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDeEY7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxrQkFBa0IsRUFBQztZQUN2QyxPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7U0FDM0Y7UUFFRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsRUFBQztZQUNyQyxPQUFPLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDekY7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7K0dBNUNVLG1CQUFtQjttR0FBbkIsbUJBQW1CLCtFQ1RoQyw4a0JBU007OzRGREFPLG1CQUFtQjtrQkFML0IsU0FBUzsrQkFDRSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVG90c1RhYmxlSGVscGVyIH0gZnJvbSAnLi4vLi4vaGVscGVycy90b3RzLXRhYmxlLWhlbHBlcic7XHJcbmltcG9ydCB7IFRvdHNCYXNlQ29sdW1uQ29tcG9uZW50IH0gZnJvbSAnLi4vdG90cy1iYXNlLWNvbHVtbi5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd0b3RzLXVzZXItY29sdW1uJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vdXNlci1jb2x1bW4uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3VzZXItY29sdW1uLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFVzZXJDb2x1bW5Db21wb25lbnQgZXh0ZW5kcyBUb3RzQmFzZUNvbHVtbkNvbXBvbmVudCB7XHJcblxyXG4gIGdldEZpcnN0bmFtZSgpIHtcclxuICAgIGlmKHRoaXMuY29sdW1uLmV4dHJhPy5maWVsZF9maXJzdG5hbWVfa2V5KXtcclxuICAgICAgcmV0dXJuIFRvdHNUYWJsZUhlbHBlci5nZXRJdGVtVmFsdWVCeUtleSh0aGlzLml0ZW0sIHRoaXMuY29sdW1uLmV4dHJhLmZpZWxkX2ZpcnN0bmFtZV9rZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGdldExhc3RuYW1lKCkge1xyXG4gICAgaWYodGhpcy5jb2x1bW4uZXh0cmE/LmZpZWxkX2xhc3RuYW1lX2tleSl7XHJcbiAgICAgIHJldHVybiBUb3RzVGFibGVIZWxwZXIuZ2V0SXRlbVZhbHVlQnlLZXkodGhpcy5pdGVtLCB0aGlzLmNvbHVtbi5leHRyYS5maWVsZF9sYXN0bmFtZV9rZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGdldEZ1bGxuYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Rmlyc3RuYW1lKCkgKyAnICcgKyB0aGlzLmdldExhc3RuYW1lKCk7XHJcbiAgfVxyXG5cclxuICBnZXRQaG90bygpIHtcclxuICAgIGlmKHRoaXMuY29sdW1uLmV4dHJhPy5maWVsZF9waG90b19rZXkpe1xyXG4gICAgICByZXR1cm4gVG90c1RhYmxlSGVscGVyLmdldEl0ZW1WYWx1ZUJ5S2V5KHRoaXMuaXRlbSwgdGhpcy5jb2x1bW4uZXh0cmEuZmllbGRfcGhvdG9fa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBnZXRTdWJ0aXRsZSgpIHtcclxuICAgIGlmKHRoaXMuY29sdW1uLmV4dHJhPy5maWVsZF9zdWJ0aXRsZV9rZXkpe1xyXG4gICAgICByZXR1cm4gVG90c1RhYmxlSGVscGVyLmdldEl0ZW1WYWx1ZUJ5S2V5KHRoaXMuaXRlbSwgdGhpcy5jb2x1bW4uZXh0cmEuZmllbGRfc3VidGl0bGVfa2V5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBpc09ubGluZSgpIHtcclxuICAgIGlmKHRoaXMuY29sdW1uLmV4dHJhPy5maWVsZF9vbmxpbmVfa2V5KXtcclxuICAgICAgcmV0dXJuIFRvdHNUYWJsZUhlbHBlci5nZXRJdGVtVmFsdWVCeUtleSh0aGlzLml0ZW0sIHRoaXMuY29sdW1uLmV4dHJhLmZpZWxkX29ubGluZV9rZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIiwiPGRpdiBjbGFzcz1cInVzZXItYXZhdGFyLWNvbXBvbmVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImF2YXRhclwiICpuZ0lmPVwiZ2V0UGhvdG8oKSAhPSAnJ1wiPlxyXG4gICAgICAgIDxpbWcgbWF0LWNhcmQtYXZhdGFyIFtzcmNdPVwiZ2V0UGhvdG8oKVwiIGFsdD1cInt7IGdldEZ1bGxuYW1lKCkgfX1cIiBjbGFzcz1cImNvdmVyLWltYWdlXCIgb25lcnJvcj1cInRoaXMuc3JjPScvYXNzZXRzL2ltZy91c2VyLWF2YXRhci1lbXB0eS5zdmcnO1wiPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidGV4dHNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidXNlclwiPiB7eyBnZXRGdWxsbmFtZSgpIH19IDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5LTJcIiAqbmdJZj1cImdldFN1YnRpdGxlKCkgIT0gJydcIj4ge3sgZ2V0U3VidGl0bGUoKSB9fSA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNoZWNrXCIgKm5nSWY9XCJjb2x1bW4uZXh0cmE/LmZpZWxkX2lzX29ubGluZSAmJiBpc09ubGluZSgpXCI+PG1hdC1pY29uPmNoZWNrPC9tYXQtaWNvbj48L2Rpdj5cclxuPC9kaXY+Il19